<section class="border border-teal-100 sm:m-0 md:m-4">
    <section class="text-center bg-teal-100 mb-4">
        <h3 class="page-title">{{this.username}}'s Inventory</h3>
        <p>Value: ${{#if this.ownedValue}}{{this.ownedValue}}{{else}}0.00{{/if}}</p>
    </section>
    <div class="w-full mx-auto">
        {{>filter}}
        <table class="table-container w-full">
            <thead>
                <tr class="table-header-row">
                    <th class="table-header pl-2" data-sort="owned">
                        <button type="button" class="sort-btn" data-sort="owned">
                            Owned
                            <span class="sort-icon" data-sort="owned">
                                <svg class="w-3 h-3" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M10 14l6-6H4l6 6z" />
                                </svg>
                            </span>
                        </button>
                    </th>
                    <th class="table-header" data-sort="name">
                        <button type="button" class="sort-btn" data-sort="name">
                            Name
                            <span class="sort-icon" data-sort="name">
                                <svg class="w-3 h-3" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M10 14l6-6H4l6 6z" />
                                </svg>
                            </span>
                        </button>
                    </th>
                    <th class="table-header" data-sort="set">
                        <button type="button" class="sort-btn" data-sort="set">
                            Set
                            <span class="sort-icon" data-sort="set">
                                <svg class="w-3 h-3" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M10 14l6-6H4l6 6z" />
                                </svg>
                            </span>
                        </button>
                    </th>
                    <th class="table-header" data-sort="price">
                        <button type="button" class="sort-btn" data-sort="">
                            Price
                            <span class="sort-icon" data-sort="price">
                                <svg class="w-3 h-3" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M10 14l6-6H4l6 6z" />
                                </svg>
                            </span>
                        </button>
                    </th>
                    <th class="table-header pr-2 xs-hide"></th>
                </tr>
            </thead>
            <tbody>
                {{#each cards as |card|}}
                <tr class="table-row">
                    <td class="pl-2">{{>cardsOwned card=card}}</td>
                    <td class="card-name-link" data-id="{{card.cardId}}" data-img-src="{{card.imgSrc}}">
                        <a href="{{card.url}}">{{card.name}}</a>
                        {{>reserved card=card}}
                        <a href="{{card.url}}" class="card-img-link">
                            <img src="{{card.imgSrc}}" alt="{{card.name}}" class="card-img-preview" />
                        </a>
                    </td>
                    <td>
                        <a href="/sets/{{card.setCode}}">
                            <i class="ss ss-{{card.setCode}} ss-{{toLowerCase card.rarity}} ss-fw"></i>
                            {{toUpperCase card.setCode}}
                        </a>
                    </td>
                    <td>
                        <span class="price-{{#if card.isFoil}}foil{{else}}normal{{/if}}">
                            {{card.priceValue}}
                        </span>
                    </td>
                    <td class="delete-inventory-entry pr-2 xs-hide">
                        <form class="delete-inventory-form" data-item-id="{{card.cardId}}">
                            <input type="hidden" name="card-id" value="{{card.cardId}}" />
                            <input type="hidden" name="isFoil" value="{{card.isFoil}}" />

                            <button type="button" class="delete-inventory-button">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </form>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
</section>

{{>pagination}}

<script src="/public/js/updateInventory.js" defer></script>