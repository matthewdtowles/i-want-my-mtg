<table class="min-w-full bg-white">
    <thead>
        <tr class="table-header-row">
            <th class="table-header pl-2">Set</th>
            <th class="table-header">Price</th>
            <th class="table-header">Owned</th>
            <th class="table-header pr-2">Release Date</th>
        </tr>
    </thead>
    <tbody>
        {{#each setList}}
        <tr class="table-row">
            <td class="py-2 pl-2">
                <i class="ss ss-{{this.keyruneCode}} ss-fw"></i>
                <a href="{{this.url}}" class="table-link">{{this.name}}</a>
            </td>
            <td class="py-2">${{this.totalValue}}</td>
            <td class="py-2">
                <div class="relative w-full h-6 bg-gray-200 rounded">
                    <div class="absolute top-0 left-0 h-full bg-teal-500 rounded"
                        style="width: {{this.ownedPercentage}}%;"></div>
                    <span class="absolute inset-0 flex items-center justify-center text-black font-bold">
                        ${{this.ownedValue}}
                    </span>
                </div>
            </td>
            <td class="py-2 pr-2">{{this.releaseDate}}</td>
        </tr>
        {{/each}}
    </tbody>
</table>

<div class="pagination-container">
    {{#if pagination.hasPrevPage}}
    <a href="/sets/page/1/limit/{{pagination.limit}}" class="pagination-btn pagination-btn-tertiary">&laquo;</a>
    {{/if}}

    {{#if pagination.hasPrevPage}}
    <a href="/sets/page/{{pagination.prevPage}}/limit/{{pagination.limit}}"
        class="pagination-btn pagination-btn-primary">&lt;</a>
    {{/if}}

    {{#if pagination.skipBackPage}}
    <a href="/sets/page/{{pagination.skipBackPage}}/limit/{{pagination.limit}}"
        class="pagination-btn pagination-btn-tertiary">{{pagination.skipBackPage}}</a>
    <span>...</span>
    {{/if}}

    <span class="pagination-btn pagination-btn-secondary">{{pagination.currentPage}}</span>

    {{#if pagination.skipForwardPage}}
    <span>...</span>
    <a href="/sets/page/{{pagination.skipForwardPage}}/limit/{{pagination.limit}}"
        class="pagination-btn pagination-btn-tertiary">{{pagination.skipForwardPage}}</a>
    {{/if}}

    {{#if pagination.hasNextPage}}
    <a href="/sets/page/{{pagination.nextPage}}/limit/{{pagination.limit}}"
        class="pagination-btn pagination-btn-primary">&gt;</a>
    {{/if}}

    {{#if pagination.hasNextPage}}
    <a href="/sets/page/{{pagination.totalPages}}/limit/{{pagination.limit}}"
        class="pagination-btn pagination-btn-tertiary">&raquo;</a>
    {{/if}}
    <form id="limitForm" class="flex items-center gap-2 mb-4 mt-2">
        <select id="limit" name="limit" class="input-field w-20 text-center py-1 pl-0 pr-2 
                text-xs sm:text-sm bg-white border border-teal-300 rounded focus:ring-2 
                focus:ring-teal-200 focus:outline-none">
            <option value="10" {{#if (eq pagination.limit 10)}}selected{{/if}}>10</option>
            <option value="20" {{#if (eq pagination.limit 20)}}selected{{/if}}>20</option>
            <option value="50" {{#if (eq pagination.limit 50)}}selected{{/if}}>50</option>
        </select>
        <label for="limit" class="text-sm font-medium text-teal-700">per page</label>
    </form>
    <script>
        document.getElementById("limit").addEventListener("change", function () {
            var limit = this.value;
            var page = {{ pagination.currentPage }};
            window.location.href = "/sets/page/" + page + "/limit/" + limit;
        });
    </script>
</div>